{% extends 'base.html.twig' %}

{% block title %}
	<div class='d-flex justify-content-between'>
	<h1 class='flex-grow-1'>Contacts</h1>
	<a href="{{path('config_fournisseurs')}}" class='align-self-center'>
		<i class="fas fa-backward fa-2x"></i>
	</a>
	</div>
{% endblock %}

{% block body %}
	<div class="container">
		<div class="cadre menu mt-5 d-flex justify-content-between">
			<div>
				<a href='{{path('config_fournisseurs')}}' type='button' class="btn btn-sm btn-success">
					<i class="fas fa-id-card"></i>
					Fournisseur/Contact
				</a>
				<a href='#' type='button' class='btn btn-sm btn-warning'>
					<i class="fas fa-history"></i>
					Autre
				</a>
			</div>
			<div class='invisible' id='cadre-del'>
				<button type="button" class='btn btn-success btn-sm' id='btn-undo'>
					<i class="fas fa-undo"></i>
					Undo
				</button>
				<button type="button" class='btn btn-danger btn-sm' id='btn-delete' data-url="delcontact">
					Supprimer
					<span class="badge rounded-pill bg-light text-dark">
						0
					</span>
				</button>
			</div>
		</div>
		<div class="liste cadre">
			<table class="table table-striped table-sm">
				<thead class="thead-dark">
					<tr>
						<th scope="col">Nom & Prenom</th>
						<th scope="col">Email</th>
						<th scope="col">Action</th>
					</tr>
				</thead>
				<tbody>
					{% for contact in contacts %}
						<tr id="card{{contact.id}}">
							<td>{{contact.nom}}</td>
							<td>{{contact.mail}}</td>
							<td>
								{# <button type='button' class='btn btn-link text-success'>
									<i class="fas fa-user-edit fa-lg"></i>
								</button> #}
								<button type='button' class='btn btn-link text-danger del-btn' data-id='{{contact.id}}'>
									<i class="far fa-trash-alt fa-lg"></i>
								</button>
							</td>
						</tr>
					{% endfor %}
				</tbody>
			</table>
		</div>
	</div>
{% endblock %}

{% block script %}
	<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
	<script src="{{asset('js/appro.js')}}"></script>
{% endblock %}
